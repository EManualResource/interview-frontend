{
    "type": "reply",
    "tag": "javascript",
    "difficulty": "1",
    "from": "https://github.com/qiu-deqing/fe-interview",
    "description": "<p>网页中实现一个计算当年还剩多少时间的倒数计时程序,要求网页上实时动态显示&quot;××年还剩××天××时××分××秒&quot;</p>\n",
    "answer": "<p>&lt;!doctype html&gt;\n    <html>\n    <head>\n        <meta charset=\"utf-8\">\n        <title>TEst</title>\n    </head>\n    <body></p>\n<pre><code>    &lt;span id=&quot;target&quot;&gt;&lt;/span&gt;\n\n\n&lt;script type=&quot;text/javascript&quot;&gt;\n    // 为了简化。每月默认30天\n    function getTimeString() {\n        var start = new Date();\n        var end = new Date(start.getFullYear() + 1, 0, 1);\n        var elapse = Math.floor((end - start) / 1000);\n\n        var seconds = elapse % 60 ;\n        var minutes = Math.floor(elapse / 60) % 60;\n        var hours = Math.floor(elapse / (60 * 60)) % 24;\n        var days = Math.floor(elapse / (60 * 60 * 24)) % 30;\n        var months = Math.floor(elapse / (60 * 60 * 24 * 30)) % 12;\n        var years = Math.floor(elapse / (60 * 60 * 24 * 30 * 12));\n\n        return start.getFullYear() + &#39;年还剩&#39; + years + &#39;年&#39; + months + &#39;月&#39; + days + &#39;日&#39;\n            + hours + &#39;小时&#39; + minutes + &#39;分&#39; + seconds + &#39;秒&#39;;\n    }\n\n    function domText(elem, text) {\n        if (text == undefined) {\n\n            if (elem.textContent) {\n                return elem.textContent;\n            } else if (elem.innerText) {\n                return elem.innerText;\n            }\n        } else {\n            if (elem.textContent) {\n                elem.textContent = text;\n            } else if (elem.innerText) {\n                elem.innerText = text;\n            } else {\n                elem.innerHTML = text;\n            }\n        }\n    }\n\n    var target = document.getElementById(&#39;target&#39;);\n\n    setInterval(function () {\n        domText(target, getTimeString());\n    }, 1000)\n&lt;/script&gt;\n\n&lt;/body&gt;\n&lt;/html&gt;\n</code></pre>",
    "options": []
}