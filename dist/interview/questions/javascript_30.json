{
    "type": "reply",
    "tag": "javascript",
    "difficulty": "1",
    "from": "https://github.com/qiu-deqing/fe-interview",
    "description": "网页中实现一个计算当年还剩多少时间的倒数计时程序,要求网页上实时动态显示\"××年还剩××天××时××分××秒\"",
    "answer": "<!doctype html>\n    <html>\n    <head>\n        <meta charset=\"utf-8\">\n        <title>TEst</title>\n    </head>\n    <body>\n\n        <span id=\"target\"></span>\n\n\n    <script type=\"text/javascript\">\n        // 为了简化。每月默认30天\n        function getTimeString() {\n            var start = new Date();\n            var end = new Date(start.getFullYear() + 1, 0, 1);\n            var elapse = Math.floor((end - start) / 1000);\n\n            var seconds = elapse % 60 ;\n            var minutes = Math.floor(elapse / 60) % 60;\n            var hours = Math.floor(elapse / (60 * 60)) % 24;\n            var days = Math.floor(elapse / (60 * 60 * 24)) % 30;\n            var months = Math.floor(elapse / (60 * 60 * 24 * 30)) % 12;\n            var years = Math.floor(elapse / (60 * 60 * 24 * 30 * 12));\n\n            return start.getFullYear() + '年还剩' + years + '年' + months + '月' + days + '日'\n                + hours + '小时' + minutes + '分' + seconds + '秒';\n        }\n\n        function domText(elem, text) {\n            if (text == undefined) {\n\n                if (elem.textContent) {\n                    return elem.textContent;\n                } else if (elem.innerText) {\n                    return elem.innerText;\n                }\n            } else {\n                if (elem.textContent) {\n                    elem.textContent = text;\n                } else if (elem.innerText) {\n                    elem.innerText = text;\n                } else {\n                    elem.innerHTML = text;\n                }\n            }\n        }\n\n        var target = document.getElementById('target');\n\n        setInterval(function () {\n            domText(target, getTimeString());\n        }, 1000)\n    </script>\n\n    </body>\n    </html>",
    "options": []
}